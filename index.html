<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CropFarm | Tap Game</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1e40af;
            --secondary: #1e3a8a;
            --accent: #00ff9d;
            --dark: #0f172a;
            --darker: #0a1122;
            --light: #e2e8f0;
            --gray: #64748b;
            --gold: #fbbf24;
            --platinum: #a5b4fc;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }
        
        body {
            background: var(--dark);
            color: white;
            max-width: 400px;
            margin: 0 auto;
            min-height: 100vh;
            position: relative;
            padding-bottom: 85px;
            overflow-x: hidden;
        }
        
        /* –¢–û–ü –ë–ê–† */
        .top-bar {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            padding: 15px;
            border-radius: 0 0 20px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        
        .balance {
            font-size: 24px;
            font-weight: 800;
            text-shadow: 0 0 10px rgba(0,255,157,0.3);
        }
        
        .rank-badge {
            background: var(--gold);
            color: black;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
        
        /* –í–´–ë–û–† –ë–ò–†–ñ–ò –ù–ê –í–ï–†–•–ù–ï–ô –ü–ê–ù–ï–õ–ò */
        .exchange-selector {
            padding: 10px 15px;
            background: rgba(255,255,255,0.05);
            margin: 10px 15px;
            border-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }
        
        .exchange-selector:hover {
            background: rgba(255,255,255,0.08);
        }
        
        /* –°–¢–ê–¢–ò–°–¢–ò–ö–ê */
        .stats-row {
            display: flex;
            justify-content: space-around;
            padding: 15px;
            background: rgba(255,255,255,0.03);
            margin: 10px 15px;
            border-radius: 15px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-label {
            font-size: 11px;
            color: var(--gray);
            margin-bottom: 3px;
        }
        
        .stat-value {
            font-size: 18px;
            font-weight: 700;
        }
        
        /* –ö–õ–ò–ö–ï–† */
        .clicker-section {
            text-align: center;
            margin: 20px 0;
            position: relative;
        }
        
        .clicker-circle {
            width: 220px;
            height: 220px;
            margin: 0 auto;
            background: radial-gradient(circle, var(--primary), var(--darker));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: 8px solid rgba(0, 255, 157, 0.3);
            box-shadow: 
                0 0 60px rgba(0, 255, 157, 0.2),
                inset 0 0 40px rgba(0, 0, 0, 0.5);
            transition: transform 0.1s;
            position: relative;
            overflow: hidden;
        }
        
        .clicker-circle:active {
            transform: scale(0.97);
        }
        
        .clicker-icon {
            font-size: 70px;
            z-index: 2;
        }
        
        .tap-info {
            margin-top: 10px;
            font-size: 14px;
            color: var(--gray);
        }
        
        .tap-bonus {
            position: absolute;
            font-weight: 800;
            color: var(--accent);
            font-size: 24px;
            pointer-events: none;
            animation: float 1s ease-out forwards;
            text-shadow: 0 0 10px rgba(0, 255, 157, 0.7);
            z-index: 100;
        }
        
        @keyframes float {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-80px) scale(0.5); opacity: 0; }
        }
        
        /* –ë–£–°–¢ –ë–ê–† */
        .boost-section {
            background: rgba(255,255,255,0.03);
            margin: 15px;
            padding: 15px;
            border-radius: 15px;
        }
        
        .boost-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .boost-bar {
            height: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .boost-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent), #00ffcc);
            border-radius: 10px;
            width: 0%;
            transition: width 0.5s;
        }
        
        /* –ó–ê–î–ê–ù–ò–Ø */
        .quests-section {
            margin: 15px;
            background: rgba(255,255,255,0.03);
            border-radius: 15px;
            padding: 15px;
        }
        
        .quest-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .quest-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .quest-item {
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            padding: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .quest-info {
            flex: 1;
        }
        
        .quest-name {
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .quest-reward {
            font-size: 12px;
            color: var(--accent);
        }
        
        .quest-btn {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border: none;
            color: white;
            padding: 8px 15px;
            border-radius: 8px;
            font-size: 12px;
            cursor: pointer;
            min-width: 80px;
        }
        
        .quest-btn.completed {
            background: var(--gray);
            cursor: not-allowed;
        }
        
        /* –ö–û–ú–ë–û –°–ò–°–¢–ï–ú–ê */
        .combo-section {
            background: rgba(251, 191, 36, 0.1);
            margin: 15px;
            padding: 15px;
            border-radius: 15px;
            border: 2px solid var(--gold);
            text-align: center;
            display: none;
        }
        
        .combo-cards {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 15px 0;
        }
        
        .combo-card {
            width: 50px;
            height: 70px;
            background: linear-gradient(135deg, #1e40af, #1e3a8a);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            border: 2px solid transparent;
        }
        
        .combo-card.active {
            border-color: var(--accent);
            box-shadow: 0 0 15px var(--accent);
        }
        
        /* –£–õ–£–ß–®–ï–ù–ò–Ø - –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ */
        .upgrades-tabs {
            display: flex;
            background: rgba(255,255,255,0.05);
            margin: 15px;
            border-radius: 12px;
            overflow: hidden;
        }
        
        .upgrade-tab {
            flex: 1;
            text-align: center;
            padding: 12px 5px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.3s;
        }
        
        .upgrade-tab.active {
            background: var(--primary);
            font-weight: 600;
        }
        
        .upgrades-content {
            padding: 0 15px;
            padding-bottom: 20px;
            display: none;
        }
        
        .upgrades-content.active {
            display: block;
            animation: fadeIn 0.3s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .category-title {
            font-size: 16px;
            font-weight: 700;
            margin: 20px 0 15px 0;
            padding-left: 10px;
            border-left: 4px solid var(--accent);
        }
        
        .upgrades-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        
        .upgrade-card {
            background: linear-gradient(145deg, rgba(255,255,255,0.05), rgba(0,0,0,0.2));
            border-radius: 12px;
            padding: 12px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
        }
        
        .upgrade-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .upgrade-name {
            font-size: 13px;
            font-weight: 600;
        }
        
        .upgrade-level {
            background: var(--primary);
            color: white;
            font-size: 11px;
            padding: 2px 8px;
            border-radius: 15px;
        }
        
        .upgrade-profit {
            font-size: 11px;
            color: var(--accent);
            margin-bottom: 8px;
        }
        
        .upgrade-cost {
            width: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border: none;
            color: white;
            padding: 8px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .upgrade-cost:hover {
            transform: scale(1.03);
        }
        
        .upgrade-cost:disabled {
            background: var(--gray);
            cursor: not-allowed;
            transform: none;
        }
        
        .upgrade-cost.max {
            background: linear-gradient(90deg, #f59e0b, #d97706);
        }
        
        /* –ù–ò–ñ–ù–ï–ï –ú–ï–ù–Æ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--darker);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            max-width: 400px;
            margin: 0 auto;
            z-index: 1000;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--gray);
            font-size: 11px;
            cursor: pointer;
            transition: all 0.3s;
            padding: 5px;
            border-radius: 8px;
            min-width: 50px;
        }
        
        .nav-item.active {
            color: var(--accent);
            background: rgba(0, 255, 157, 0.1);
        }
        
        .nav-icon {
            font-size: 20px;
            margin-bottom: 3px;
        }
        
        /* –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –ë–ò–†–ñ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            z-index: 10000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: var(--darker);
            width: 90%;
            max-width: 350px;
            border-radius: 20px;
            padding: 20px;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: 700;
        }
        
        .modal-close {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }
        
        .exchange-list {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }
        
        .exchange-item {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 20px 5px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .exchange-item:hover {
            transform: translateY(-5px);
            background: rgba(255,255,255,0.1);
        }
        
        .exchange-item.active {
            border: 2px solid var(--accent);
            background: rgba(0,255,157,0.1);
        }
        
        .exchange-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .exchange-name {
            font-size: 14px;
            font-weight: 600;
        }
        
        /* –ê–ù–ò–ú–ê–¶–ò–Ø –ù–ê–ì–†–ê–î–´ */
        .reward-animation {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.9);
            color: var(--accent);
            font-size: 32px;
            font-weight: 800;
            padding: 30px 50px;
            border-radius: 20px;
            border: 3px solid var(--accent);
            box-shadow: 0 0 50px var(--accent);
            z-index: 10000;
            animation: rewardPop 2s forwards;
        }
        
        @keyframes rewardPop {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
        }
        
        /* –ü–†–û–ì–†–ï–°–° –ë–ê–† –£–†–û–í–ù–Ø */
        .level-bar {
            height: 6px;
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
            margin: 10px 15px;
            overflow: hidden;
        }
        
        .level-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent), #00ffcc);
            border-radius: 3px;
            width: 0%;
            transition: width 0.5s;
        }
        
        .level-info {
            display: flex;
            justify-content: space-between;
            padding: 0 15px;
            font-size: 12px;
            color: var(--gray);
        }
        
        /* AIRDROP –ù–ê –ì–õ–ê–í–ù–û–ô */
        .airdrop-banner {
            background: linear-gradient(90deg, #8b5cf6, #7c3aed);
            margin: 15px;
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .airdrop-timer {
            font-size: 28px;
            font-weight: 800;
            font-family: monospace;
            letter-spacing: 2px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <!-- –¢–û–ü –ë–ê–† -->
    <div class="top-bar">
        <div>
            <div class="balance" id="balance">0</div>
            <div style="font-size:12px;opacity:0.8;">CropFarm</div>
        </div>
        <div class="rank-badge" id="rankDisplay">Bronze</div>
    </div>
    
    <!-- –ü–†–û–ì–†–ï–°–° –£–†–û–í–ù–Ø -->
    <div class="level-info">
        <span>–£—Ä–æ–≤–µ–Ω—å <span id="currentLevel">1</span></span>
        <span><span id="currentXP">0</span>/<span id="maxXP">50</span></span>
    </div>
    <div class="level-bar">
        <div class="level-fill" id="levelFill"></div>
    </div>
    
    <!-- –í–´–ë–û–† –ë–ò–†–ñ–ò -->
    <div class="exchange-selector" onclick="openExchangeModal()">
        <div>
            <div style="font-size:12px;opacity:0.7;">–ë–∏—Ä–∂–∞</div>
            <div id="currentExchangeName">–í—ã–±–µ—Ä–∏—Ç–µ –±–∏—Ä–∂—É</div>
        </div>
        <div style="color:var(--accent);">
            <i class="fas fa-chevron-right"></i>
        </div>
    </div>
    
    <!-- –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
    <div class="stats-row">
        <div class="stat-item">
            <div class="stat-label">–ó–∞ —Ç–∞–ø</div>
            <div class="stat-value" id="perTapStat">+1</div>
        </div>
        <div class="stat-item">
            <div class="stat-label">–í —á–∞—Å</div>
            <div class="stat-value" id="perHourStat">0</div>
        </div>
        <div class="stat-item">
            <div class="stat-label">–î–ª—è –∞–ø–∞</div>
            <div class="stat-value" id="coinsToUpgrade">1K</div>
        </div>
    </div>
    
    <!-- –ö–õ–ò–ö–ï–† -->
    <div class="clicker-section">
        <div class="clicker-circle" id="clicker">
            <div class="clicker-icon">üåæ</div>
        </div>
        <div class="tap-info">–¢–∞–ø–æ–≤: <span id="tapCounter">0</span></div>
    </div>
    
    <!-- –ö–û–ú–ë–û –°–ò–°–¢–ï–ú–ê -->
    <div class="combo-section" id="comboSection">
        <h3><i class="fas fa-bolt"></i> –ö–û–ú–ë–û!</h3>
        <div class="combo-cards" id="comboCards"></div>
        <p>–°–æ–±–µ—Ä–∏ 3 –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∫–∞—Ä—Ç—ã –¥–ª—è +3M –º–æ–Ω–µ—Ç!</p>
        <button class="quest-btn" onclick="claimCombo()" id="comboBtn" disabled>–ó–∞–±—Ä–∞—Ç—å –Ω–∞–≥—Ä–∞–¥—É</button>
    </div>
    
    <!-- –ë–£–°–¢ –ë–ê–† -->
    <div class="boost-section">
        <div class="boost-header">
            <div>–ë—É—Å—Ç</div>
            <div><span id="boostCounter">0</span>/8500</div>
        </div>
        <div class="boost-bar">
            <div class="boost-fill" id="boostFill"></div>
        </div>
    </div>
    
    <!-- AIRDROP –ë–ê–ù–ù–ï–† -->
    <div class="airdrop-banner">
        <h3><i class="fas fa-gift"></i> CropFarm Airdrop</h3>
        <div class="airdrop-timer" id="airdropTimer">23:59:59</div>
        <p>–î–æ –∑–∞–ø—É—Å–∫–∞ —Ç–æ–∫–µ–Ω–∞</p>
        <button class="quest-btn" style="margin-top:10px;" onclick="switchTab('airdrop')">–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å</button>
    </div>
    
    <!-- –ó–ê–î–ê–ù–ò–Ø -->
    <div class="quests-section">
        <div class="quest-title">
            <i class="fas fa-tasks"></i> –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
        </div>
        <div class="quest-list" id="questList">
            <!-- –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
        </div>
    </div>
    
    <!-- –¢–ê–ë–´ –£–õ–£–ß–®–ï–ù–ò–ô -->
    <div class="upgrades-tabs">
        <div class="upgrade-tab active" onclick="switchUpgradeTab('earn')">Earn</div>
        <div class="upgrade-tab" onclick="switchUpgradeTab('mine')">Mine</div>
        <div class="upgrade-tab" onclick="switchUpgradeTab('markets')">Markets</div>
    </div>
    
    <!-- –£–õ–£–ß–®–ï–ù–ò–Ø: EARN -->
    <div id="earnUpgrades" class="upgrades-content active">
        <div class="category-title">PR & Team</div>
        <div class="upgrades-grid" id="prUpgrades"></div>
        
        <div class="category-title">Legal</div>
        <div class="upgrades-grid" id="legalUpgrades"></div>
        
        <div class="category-title">Specials</div>
        <div class="upgrades-grid" id="specialsUpgrades"></div>
    </div>
    
    <!-- –£–õ–£–ß–®–ï–ù–ò–Ø: MINE -->
    <div id="mineUpgrades" class="upgrades-content">
        <div class="category-title">–®–∞—Ö—Ç–∞</div>
        <div class="upgrades-grid" id="miningUpgrades"></div>
    </div>
    
    <!-- –£–õ–£–ß–®–ï–ù–ò–Ø: MARKETS -->
    <div id="marketsUpgrades" class="upgrades-content">
        <div class="category-title">Markets</div>
        <div class="upgrades-grid" id="marketsGrid"></div>
        
        <div class="category-title">Fan Tokens</div>
        <div class="upgrades-grid" id="tokensGrid"></div>
    </div>
    
    <!-- –ù–ò–ñ–ù–ï–ï –ú–ï–ù–Æ -->
    <div class="bottom-nav">
        <div class="nav-item active" onclick="switchMainTab('home')">
            <div class="nav-icon"><i class="fas fa-home"></i></div>
            <div>Home</div>
        </div>
        <div class="nav-item" onclick="switchMainTab('exchange')">
            <div class="nav-icon"><i class="fas fa-exchange-alt"></i></div>
            <div>Exchange</div>
        </div>
        <div class="nav-item" onclick="switchMainTab('upgrades')">
            <div class="nav-icon"><i class="fas fa-chart-line"></i></div>
            <div>Upgrades</div>
        </div>
        <div class="nav-item" onclick="switchMainTab('friends')">
            <div class="nav-icon"><i class="fas fa-user-friends"></i></div>
            <div>Friends</div>
        </div>
        <div class="nav-item" onclick="switchMainTab('airdrop')">
            <div class="nav-icon"><i class="fas fa-gift"></i></div>
            <div>AirDrop</div>
        </div>
    </div>
    
    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –í–´–ë–û–†–ê –ë–ò–†–ñ–ò -->
    <div class="modal" id="exchangeModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">–í—ã–±–µ—Ä–∏—Ç–µ –±–∏—Ä–∂—É</div>
                <button class="modal-close" onclick="closeExchangeModal()">&times;</button>
            </div>
            <div class="exchange-list" id="exchangeList">
                <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>
    </div>

    <script>
        // ============ –ò–ì–†–û–í–´–ï –î–ê–ù–ù–´–ï ============
        let game = {
            balance: 0,
            taps: 0,
            perTap: 1,
            perHour: 0,
            level: 1,
            xp: 0,
            maxXp: 50,
            exchange: null,
            friends: 0,
            boost: 0,
            combo: {
                cards: [],
                active: false,
                collected: 0
            },
            upgrades: {},
            mined: {},
            quests: {}
        };

        // ============ –ë–ò–†–ñ–ò ============
        const exchanges = [
            {name: 'Binance', icon: 'üè¶'},
            {name: 'Bybit', icon: 'üöÄ'},
            {name: 'OKX', icon: '‚ö°'},
            {name: 'HTX', icon: 'üî•'},
            {name: 'Kucoin', icon: 'üî∂'},
            {name: 'Gate.io', icon: 'üö™'},
            {name: 'MEXC', icon: 'üíé'},
            {name: 'Bitget', icon: 'üõ°Ô∏è'},
            {name: 'Coinbase', icon: 'ü™ô'},
            {name: 'Kraken', icon: 'üêô'}
        ];

        // ============ –£–õ–£–ß–®–ï–ù–ò–Ø ============
        const upgradesData = {
            // PR & Team
            'facebook': { name: 'Facebook Ads', category: 'pr', cost: 5000, profit: 838, level: 0, maxLevel: 10 },
            'medium': { name: 'Medium', category: 'pr', cost: 1000, profit: 83, level: 0, maxLevel: 10 },
            'instagram': { name: 'Instagram', category: 'pr', cost: 500, profit: 50, level: 0, maxLevel: 10 },
            'youtube': { name: 'YouTube', category: 'pr', cost: 6000, profit: 600, level: 0, maxLevel: 10 },
            'tiktok': { name: 'TikTok', category: 'pr', cost: 1000, profit: 100, level: 0, maxLevel: 10 },
            'influencers': { name: 'Influencers', category: 'pr', cost: 5000, profit: 270, level: 0, maxLevel: 10, requires: 10 },
            
            // Legal
            'compliance': { name: 'Compliance', category: 'legal', cost: 10000, profit: 500, level: 0, maxLevel: 5 },
            'licensing': { name: 'Licensing', category: 'legal', cost: 20000, profit: 1000, level: 0, maxLevel: 5 },
            'audit': { name: 'Security Audit', category: 'legal', cost: 15000, profit: 750, level: 0, maxLevel: 5 },
            
            // Specials
            'bonus': { name: 'Bonus Program', category: 'specials', cost: 50000, profit: 2500, level: 0, maxLevel: 3 },
            'vip': { name: 'VIP Club', category: 'specials', cost: 100000, profit: 5000, level: 0, maxLevel: 3 },
            
            // Markets
            'web3': { name: 'Web3 Integration', category: 'markets', cost: 10000000, profit: 19850, level: 0, maxLevel: 20 },
            'dao': { name: 'DAO', category: 'markets', cost: 7000000, profit: 7810, level: 0, maxLevel: 20 },
            'dex': { name: 'DEX', category: 'markets', cost: 11990000, profit: 60420, level: 0, maxLevel: 20 },
            'oracle': { name: 'Oracle', category: 'markets', cost: 5820000, profit: 18040, level: 0, maxLevel: 20 },
            'vesting': { name: 'Vesting Smartcontracts', category: 'markets', cost: 6550000, profit: 24170, level: 0, maxLevel: 20 },
            'launchpad': { name: 'Launchpad', category: 'markets', cost: 3000000, profit: 3000, level: 0, maxLevel: 20 },
            'nft_market': { name: 'NFT Marketplace', category: 'markets', cost: 12470000, profit: 40280, level: 0, maxLevel: 20 },
            
            // Fan Tokens
            'fantokens': { name: 'Fan tokens', category: 'tokens', cost: 428130, profit: 14990, level: 0, maxLevel: 20 },
            'staking': { name: 'Staking', category: 'tokens', cost: 149840, profit: 9460, level: 0, maxLevel: 20 },
            'btc_pairs': { name: 'BTC pairs', category: 'tokens', cost: 415630, profit: 1110, level: 0, maxLevel: 20 },
            'eth_pairs': { name: 'ETH pairs', category: 'tokens', cost: 217600, profit: 1000, level: 0, maxLevel: 20 },
            'top10': { name: 'Top 10 cmc pairs', category: 'tokens', cost: 80730, profit: 1430, level: 0, maxLevel: 20 },
            'gamefi': { name: 'GameFi tokens', category: 'tokens', cost: 40360, profit: 1250, level: 0, maxLevel: 20 }
        };

        // ============ –ú–ê–ô–ù–ò–ù–ì ============
        const miningData = {
            'drill': { name: '–ë—É—Ä–æ–≤–∞—è', icon: '‚õèÔ∏è', cost: 10440, profit: 838, level: 0, maxLevel: 10 },
            'excavator': { name: '–≠–∫—Å–∫–∞–≤–∞—Ç–æ—Ä', icon: 'üöú', cost: 5000, profit: 447, level: 0, maxLevel: 10 }
        };

        // ============ –ó–ê–î–ê–ù–ò–Ø ============
        const questsData = [
            { id: 'join_tg', name: '–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ Telegram –∫–∞–Ω–∞–ª—É', reward: 5000, completed: false },
            { id: 'follow_x', name: '–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ X (Twitter)', reward: 5000, completed: false },
            { id: 'choose_exchange', name: '–í—ã–±—Ä–∞—Ç—å –±–∏—Ä–∂—É', reward: 5000, completed: false },
            { id: 'tap_100', name: '–°–¥–µ–ª–∞—Ç—å 100 —Ç–∞–ø–æ–≤', reward: 10000, completed: false, target: 100 },
            { id: 'buy_upgrade', name: '–ö—É–ø–∏—Ç—å –ª—é–±–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ', reward: 15000, completed: false },
            { id: 'invite_friend', name: '–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞', reward: 25000, completed: false }
        ];

        // ============ –ö–ê–†–¢–´ –î–õ–Ø –ö–û–ú–ë–û ============
        const comboCards = ['üåæ', 'üöú', '‚õèÔ∏è', 'üí∞', 'üè¶', '‚ö°'];

        // ============ –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ============
        function initGame() {
            loadGame();
            initUI();
            loadQuests();
            loadUpgrades();
            loadMining();
            startPassiveIncome();
            startAirdropTimer();
            updateUI();
        }

        function loadGame() {
            const saved = localStorage.getItem('cropfarm_v3');
            if (saved) {
                const data = JSON.parse(saved);
                Object.assign(game, data);
            } else {
                game.upgrades = JSON.parse(JSON.stringify(upgradesData));
                game.mined = JSON.parse(JSON.stringify(miningData));
                game.quests = JSON.parse(JSON.stringify(questsData));
            }
        }

        function saveGame() {
            localStorage.setItem('cropfarm_v3', JSON.stringify(game));
        }

        // ============ –û–°–ù–û–í–ù–û–ô –ò–ù–¢–ï–†–§–ï–ô–° ============
        function updateUI() {
            // –ë–∞–ª–∞–Ω—Å –∏ —Ä–∞–Ω–≥
            document.getElementById('balance').textContent = game.balance.toLocaleString();
            
            const ranks = ['Bronze', 'Silver', 'Gold', 'Platinum', 'Diamond', 'Master', 'Grandmaster', 'Legendary'];
            const rankIndex = Math.min(Math.floor(game.level / 5), ranks.length - 1);
            document.getElementById('rankDisplay').textContent = ranks[rankIndex];
            
            // –£—Ä–æ–≤–µ–Ω—å
            document.getElementById('currentLevel').textContent = game.level;
            document.getElementById('currentXP').textContent = game.xp;
            document.getElementById('maxXP').textContent = game.maxXp;
            document.getElementById('levelFill').style.width = `${(game.xp / game.maxXp) * 100}%`;
            
            // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            document.getElementById('perTapStat').textContent = `+${game.perTap}`;
            document.getElementById('perHourStat').textContent = `${game.perHour.toLocaleString()}/—á–∞—Å`;
            document.getElementById('coinsToUpgrade').textContent = `${(game.level * 1000).toLocaleString()}`;
            document.getElementById('tapCounter').textContent = game.taps.toLocaleString();
            
            // –ë–∏—Ä–∂–∞
            if (game.exchange) {
                document.getElementById('currentExchangeName').textContent = game.exchange;
            }
            
            // –ë—É—Å—Ç
            const boostPercent = (game.boost / 8500) * 100;
            document.getElementById('boostCounter').textContent = game.boost;
            document.getElementById('boostFill').style.width = `${boostPercent}%`;
            
            // –ö–æ–º–±–æ —Å–∏—Å—Ç–µ–º–∞
            if (game.combo.active && game.combo.cards.length > 0) {
                document.getElementById('comboSection').style.display = 'block';
                updateComboUI();
            } else {
                document.getElementById('comboSection').style.display = 'none';
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏
            updateUpgradeButtons();
            updateQuestButtons();
        }

        // ============ –ö–õ–ò–ö–ï–† ============
        document.getElementById('clicker').addEventListener('click', function(e) {
            // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–ª–∏–∫–∞
            const rect = this.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–Ω–µ—Ç
            game.balance += game.perTap;
            game.taps++;
            game.xp += 1;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è
            if (game.xp >= game.maxXp) {
                game.level++;
                game.xp = 0;
                game.maxXp = Math.floor(game.maxXp * 1.5);
                showNotification(`üéâ –ù–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å: ${game.level}!`);
                
                // –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∑–∞ —Ç–∞–ø –∫–∞–∂–¥—ã–µ 5 —É—Ä–æ–≤–Ω–µ–π
                if (game.level % 5 === 0) {
                    game.perTap++;
                    showNotification(`üí™ –°–∏–ª–∞ —Ç–∞–ø–∞ —É–≤–µ–ª–∏—á–µ–Ω–∞ –¥–æ +${game.perTap}!`);
                }
            }
            
            // –ë—É—Å—Ç –∫–∞–∂–¥—ã–µ 50 —Ç–∞–ø–æ–≤
            if (game.taps % 50 === 0) {
                game.boost = Math.min(game.boost + 1, 8500);
                if (game.boost === 8500) {
                    showReward('üöÄ –ë–£–°–¢ –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–´–ô!');
                }
            }
            
            // –®–∞–Ω—Å –ø–æ–ª—É—á–∏—Ç—å –∫–∞—Ä—Ç—É –¥–ª—è –∫–æ–º–±–æ (–∫–∞–∂–¥—ã–µ 200 —Ç–∞–ø–æ–≤)
            if (game.taps % 200 === 0) {
                addComboCard();
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–¥–∞–Ω–∏–π
            checkTapQuests();
            
            // –ê–Ω–∏–º–∞—Ü–∏—è +N
            const bonus = document.createElement('div');
            bonus.className = 'tap-bonus';
            bonus.textContent = `+${game.perTap}`;
            bonus.style.left = `${x}px`;
            bonus.style.top = `${y}px`;
            this.appendChild(bonus);
            
            setTimeout(() => bonus.remove(), 1000);
            
            updateUI();
            saveGame();
        });

        // ============ –ö–û–ú–ë–û –°–ò–°–¢–ï–ú–ê ============
        function addComboCard() {
            if (!game.combo.active) {
                game.combo.active = true;
                game.combo.cards = [];
                game.combo.collected = 0;
            }
            
            if (game.combo.cards.length < 3) {
                const randomCard = comboCards[Math.floor(Math.random() * comboCards.length)];
                game.combo.cards.push(randomCard);
                showNotification(`üé¥ –ü–æ–ª—É—á–µ–Ω–∞ –∫–∞—Ä—Ç–∞: ${randomCard}`);
                
                if (game.combo.cards.length === 3) {
                    checkCombo();
                }
                
                updateComboUI();
                saveGame();
            }
        }

        function updateComboUI() {
            const container = document.getElementById('comboCards');
            container.innerHTML = '';
            
            game.combo.cards.forEach((card, index) => {
                const cardEl = document.createElement('div');
                cardEl.className = 'combo-card';
                if (game.combo.collected > index) {
                    cardEl.classList.add('active');
                }
                cardEl.textContent = card;
                container.appendChild(cardEl);
            });
            
            const btn = document.getElementById('comboBtn');
            if (game.combo.collected === 3) {
                btn.disabled = false;
                btn.textContent = '–ó–∞–±—Ä–∞—Ç—å +3M –º–æ–Ω–µ—Ç!';
            } else {
                btn.disabled = true;
                btn.textContent = `–°–æ–±—Ä–∞–Ω–æ: ${game.combo.collected}/3`;
            }
        }

        function checkCombo() {
            const counts = {};
            game.combo.cards.forEach(card => {
                counts[card] = (counts[card] || 0) + 1;
            });
            
            for (const card in counts) {
                if (counts[card] === 3) {
                    game.combo.collected = 3;
                    showNotification('üéâ –ö–û–ú–ë–û! 3 –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∫–∞—Ä—Ç—ã!');
                    break;
                }
            }
        }

        function claimCombo() {
            if (game.combo.collected === 3) {
                game.balance += 3000000;
                showReward('+3,000,000 üí∞');
                game.combo.active = false;
                game.combo.cards = [];
                game.combo.collected = 0;
                updateUI();
                saveGame();
            }
        }

        // ============ –í–´–ë–û–† –ë–ò–†–ñ–ò ============
        function openExchangeModal() {
            const modal = document.getElementById('exchangeModal');
            const list = document.getElementById('exchangeList');
            
            list.innerHTML = '';
            exchanges.forEach(ex => {
                const item = document.createElement('div');
                item.className = `exchange-item ${ex.name === game.exchange ? 'active' : ''}`;
                item.innerHTML = `
                    <div class="exchange-icon">${ex.icon}</div>
                    <div class="exchange-name">${ex.name}</div>
                `;
                item.onclick = () => selectExchange(ex.name);
                list.appendChild(item);
            });
            
            modal.style.display = 'flex';
        }

        function closeExchangeModal() {
            document.getElementById('exchangeModal').style.display = 'none';
        }

        function selectExchange(name) {
            game.exchange = name;
            closeExchangeModal();
            
            // –ù–∞–≥—Ä–∞–¥–∞ –∑–∞ –≤—ã–±–æ—Ä –±–∏—Ä–∂–∏
            if (!localStorage.getItem('exchange_selected')) {
                game.balance += 5000;
                showNotification('üéâ +5,000 –∑–∞ –≤—ã–±–æ—Ä –±–∏—Ä–∂–∏!');
                localStorage.setItem('exchange_selected', 'true');
                
                // –û—Ç–º–µ—á–∞–µ–º –∑–∞–¥–∞–Ω–∏–µ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ
                const quest = game.quests.find(q => q.id === 'choose_exchange');
                if (quest && !quest.completed) {
                    quest.completed = true;
                    loadQuests();
                }
            }
            
            updateUI();
            saveGame();
        }

        // ============ –ó–ê–î–ê–ù–ò–Ø ============
        function loadQuests() {
            const container = document.getElementById('questList');
            container.innerHTML = '';
            
            game.quests.forEach(quest => {
                const questEl = document.createElement('div');
                questEl.className = 'quest-item';
                questEl.innerHTML = `
                    <div class="quest-info">
                        <div class="quest-name">${quest.name}</div>
                        <div class="quest-reward">+${quest.reward.toLocaleString()} –º–æ–Ω–µ—Ç</div>
                    </div>
                    <button class="quest-btn ${quest.completed ? 'completed' : ''}" 
                            onclick="claimQuest('${quest.id}')" 
                            ${quest.completed ? 'disabled' : ''}>
                        ${quest.completed ? '–í—ã–ø–æ–ª–Ω–µ–Ω–æ' : '–ó–∞–±—Ä–∞—Ç—å'}
                    </button>
                `;
                container.appendChild(questEl);
            });
        }

        function checkTapQuests() {
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–¥–∞–Ω–∏—è –Ω–∞ 100 —Ç–∞–ø–æ–≤
            const tapQuest = game.quests.find(q => q.id === 'tap_100');
            if (tapQuest && !tapQuest.completed && game.taps >= tapQuest.target) {
                tapQuest.completed = true;
                loadQuests();
            }
        }

        function claimQuest(id) {
            const quest = game.quests.find(q => q.id === id);
            if (quest && !quest.completed) {
                quest.completed = true;
                game.balance += quest.reward;
                showNotification(`üéâ –ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ! +${quest.reward.toLocaleString()} –º–æ–Ω–µ—Ç`);
                loadQuests();
                updateUI();
                saveGame();
            }
        }

        function updateQuestButtons() {
            const quests = document.querySelectorAll('.quest-btn');
            quests.forEach(btn => {
                const questId = btn.getAttribute('onclick').match(/'([^']+)'/)[1];
                const quest = game.quests.find(q => q.id === questId);
                if (quest) {
                    btn.disabled = quest.completed;
                    btn.textContent = quest.completed ? '–í—ã–ø–æ–ª–Ω–µ–Ω–æ' : '–ó–∞–±—Ä–∞—Ç—å';
                    btn.className = `quest-btn ${quest.completed ? 'completed' : ''}`;
                }
            });
        }

        // ============ –ó–ê–ì–†–£–ó–ö–ê –£–õ–£–ß–®–ï–ù–ò–ô ============
        function loadUpgrades() {
            // PR & Team
            const prContainer = document.getElementById('prUpgrades');
            prContainer.innerHTML = '';
            for (const [key, upgrade] of Object.entries(game.upgrades)) {
                if (upgrade.category === 'pr') {
                    prContainer.innerHTML += createUpgradeHTML(key, upgrade);
                }
            }
            
            // Legal
            const legalContainer = document.getElementById('legalUpgrades');
            legalContainer.innerHTML = '';
            for (const [key, upgrade] of Object.entries(game.upgrades)) {
                if (upgrade.category === 'legal') {
                    legalContainer.innerHTML += createUpgradeHTML(key, upgrade);
                }
            }
            
            // Specials
            const specialsContainer = document.getElementById('specialsUpgrades');
            specialsContainer.innerHTML = '';
            for (const [key, upgrade] of Object.entries(game.upgrades)) {
                if (upgrade.category === 'specials') {
                    specialsContainer.innerHTML += createUpgradeHTML(key, upgrade);
                }
            }
            
            // Markets
            const marketsContainer = document.getElementById('marketsGrid');
            marketsContainer.innerHTML = '';
            for (const [key, upgrade] of Object.entries(game.upgrades)) {
                if (upgrade.category === 'markets') {
                    marketsContainer.innerHTML += createUpgradeHTML(key, upgrade);
                }
            }
            
            // Tokens
            const tokensContainer = document.getElementById('tokensGrid');
            tokensContainer.innerHTML = '';
            for (const [key, upgrade] of Object.entries(game.upgrades)) {
                if (upgrade.category === 'tokens') {
                    tokensContainer.innerHTML += createUpgradeHTML(key, upgrade);
                }
            }
        }

        function loadMining() {
            const container = document.getElementById('miningUpgrades');
            container.innerHTML = '';
            
            for (const [key, data] of Object.entries(game.mined)) {
                const html = `
                    <div class="upgrade-card">
                        <div class="upgrade-header">
                            <div class="upgrade-name">${data.name}</div>
                            <div class="upgrade-level">M${data.level}</div>
                        </div>
                        <div class="upgrade-profit">+${data.profit}/—á–∞—Å</div>
                        <button class="upgrade-cost ${data.level >= data.maxLevel ? 'max' : ''}" 
                                onclick="buyMining('${key}')" 
                                id="mining_${key}"
                                ${data.level >= data.maxLevel ? 'disabled' : ''}>
                            ${data.level >= data.maxLevel ? '–ú–ê–ö–°' : data.cost.toLocaleString()}
                        </button>
                    </div>
                `;
                container.innerHTML += html;
            }
        }

        function createUpgradeHTML(key, upgrade) {
            const isMax = upgrade.level >= upgrade.maxLevel;
            const disabled = (upgrade.requires && game.friends < upgrade.requires) || isMax;
            
            return `
                <div class="upgrade-card ${disabled ? 'locked' : ''}">
                    ${upgrade.requires ? `<div style="position:absolute;top:5px;right:5px;background:#f59e0b;color:black;font-size:10px;padding:2px 6px;border-radius:10px;">${upgrade.requires} –¥—Ä—É–∑–µ–π</div>` : ''}
                    <div class="upgrade-header">
                        <div class="upgrade-name">${upgrade.name}</div>
                        <div class="upgrade-level">${upgrade.category === 'markets' || upgrade.category === 'tokens' ? 'Lvl' : 'M'}${upgrade.level}</div>
                    </div>
                    <div class="upgrade-profit">+${upgrade.profit}/—á–∞—Å</div>
                    <button class="upgrade-cost ${isMax ? 'max' : ''}" 
                            onclick="buyUpgrade('${key}')" 
                            id="upgrade_${key}"
                            ${disabled ? 'disabled' : ''}>
                        ${isMax ? '–ú–ê–ö–°' : upgrade.cost.toLocaleString()}
                    </button>
                </div>
            `;
        }

        // ============ –ü–û–ö–£–ü–ö–ê –£–õ–£–ß–®–ï–ù–ò–ô ============
        function buyUpgrade(key) {
            const upgrade = game.upgrades[key];
            if (!upgrade || upgrade.level >= upgrade.maxLevel) return;
            
            if (upgrade.requires && game.friends < upgrade.requires) {
                showNotification(`‚ùå –ù—É–∂–Ω–æ ${upgrade.requires} –¥—Ä—É–∑–µ–π!`);
                return;
            }
            
            if (game.balance >= upgrade.cost) {
                game.balance -= upgrade.cost;
                upgrade.level++;
                upgrade.cost = Math.round(upgrade.cost * 1.5);
                game.perHour += upgrade.profit;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–¥–∞–Ω–∏—è
                const quest = game.quests.find(q => q.id === 'buy_upgrade');
                if (quest && !quest.completed) {
                    quest.completed = true;
                    loadQuests();
                }
                
                updateUI();
                loadUpgrades();
                saveGame();
                
                showNotification(`‚úÖ ${upgrade.name} —É–ª—É—á—à–µ–Ω –¥–æ —É—Ä–æ–≤–Ω—è ${upgrade.level}!`);
            } else {
                showNotification('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!');
            }
        }

        function buyMining(key) {
            const mining = game.mined[key];
            if (!mining || mining.level >= mining.maxLevel) return;
            
            if (game.balance >= mining.cost) {
                game.balance -= mining.cost;
                mining.level++;
                mining.cost = Math.round(mining.cost * 1.5);
                game.perHour += mining.profit;
                
                updateUI();
                loadMining();
                saveGame();
                
                showNotification(`‚úÖ ${mining.name} —É–ª—É—á—à–µ–Ω –¥–æ —É—Ä–æ–≤–Ω—è M${mining.level}!`);
            } else {
                showNotification('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!');
            }
        }

        function updateUpgradeButtons() {
            for (const [key, upgrade] of Object.entries(game.upgrades)) {
                const btn = document.getElementById(`upgrade_${key}`);
                if (btn) {
                    const isMax = upgrade.level >= upgrade.maxLevel;
                    const disabled = (upgrade.requires && game.friends < upgrade.requires) || isMax || game.balance < upgrade.cost;
                    btn.disabled = disabled;
                    btn.textContent = isMax ? '–ú–ê–ö–°' : upgrade.cost.toLocaleString();
                    btn.className = `upgrade-cost ${isMax ? 'max' : ''}`;
                }
            }
            
            for (const [key, mining] of Object.entries(game.mined)) {
                const btn = document.getElementById(`mining_${key}`);
                if (btn) {
                    const isMax = mining.level >= mining.maxLevel;
                    btn.disabled = isMax || game.balance < mining.cost;
                    btn.textContent = isMax ? '–ú–ê–ö–°' : mining.cost.toLocaleString();
                    btn.className = `upgrade-cost ${isMax ? 'max' : ''}`;
                }
            }
        }

        // ============ –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–ï –í–ö–õ–ê–î–û–ö ============
        function switchUpgradeTab(tabId) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π
            document.querySelectorAll('.upgrades-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é
            document.getElementById(tabId + 'Upgrades').classList.add('active');
            
            // –û–±–Ω–æ–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ —Ç–∞–±–æ–≤
            document.querySelectorAll('.upgrade-tab').forEach(tab => {
                tab.classList.remove('active');
                if (tab.textContent.toLowerCase() === tabId) {
                    tab.classList.add('active');
                }
            });
        }

        function switchMainTab(tabId) {
            // –ü–æ–∫–∞ —á—Ç–æ —Ç–æ–ª—å–∫–æ Home —Ä–∞–±–æ—Ç–∞–µ—Ç
            showNotification(`–í–∫–ª–∞–¥–∫–∞ ${tabId} –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...`);
            
            // –û–±–Ω–æ–≤–∏—Ç—å –º–µ–Ω—é
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –≤–∫–ª–∞–¥–∫—É
            event.currentTarget.classList.add('active');
        }

        // ============ AIRDROP ============
        function startAirdropTimer() {
            function updateTimer() {
                const now = new Date();
                const target = new Date(now);
                target.setHours(23, 59, 59, 999);
                
                const diff = target - now;
                const hours = Math.floor(diff / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                document.getElementById('airdropTimer').textContent = 
                    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }
            
            updateTimer();
            setInterval(updateTimer, 1000);
        }

        // ============ –ü–ê–°–°–ò–í–ù–´–ô –î–û–•–û–î ============
        function startPassiveIncome() {
            setInterval(() => {
                const hourlyIncome = game.perHour;
                const perSecond = hourlyIncome / 3600;
                game.balance += perSecond;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å
                document.getElementById('balance').textContent = Math.floor(game.balance).toLocaleString();
                saveGame();
            }, 1000);
        }

        // ============ –£–¢–ò–õ–ò–¢–´ ============
        function showNotification(text) {
            const notification = document.createElement('div');
            notification.textContent = text;
            notification.style.cssText = `
                position: fixed;
                top: 20%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: rgba(0,0,0,0.9);
                color: white;
                padding: 15px 25px;
                border-radius: 15px;
                z-index: 10000;
                font-weight: bold;
                box-shadow: 0 0 30px rgba(0,255,157,0.5);
                border: 2px solid var(--accent);
                animation: fadeInOut 2s;
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 2000);
        }

        function showReward(text) {
            const reward = document.createElement('div');
            reward.className = 'reward-animation';
            reward.textContent = text;
            document.body.appendChild(reward);
            
            setTimeout(() => {
                reward.remove();
            }, 2000);
        }

        function initUI() {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —É–ª—É—á—à–µ–Ω–∏—è
            loadUpgrades();
            loadMining();
            
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –ø–µ—Ä–≤—É—é –≤–∫–ª–∞–¥–∫—É
            switchUpgradeTab('earn');
        }

        // ============ TELEGRAM ============
        function initTelegram() {
            if (window.Telegram?.WebApp) {
                const tg = Telegram.WebApp;
                tg.expand();
                tg.ready();
            }
        }

        // ============ –ó–ê–ü–£–°–ö ============
        window.onload = initGame;
    </script>
</body>
</html>
